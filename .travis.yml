language: node_js
node_js:
- node
deploy:
  provider: npm
  email: wwigham@gmail.com
  api_key:
    secure: jvst4NVaAOH42q5GU6xgR57lqhm5+XZusH5b96UAILe+wGGzTaV7gJJ5btph1Hxd+nXMiKeHWjartnKKq/oUFQ78XB76fEhFTNxecJfFp0vDG3TbenzfDIZBt9hAh/9A1+vE9MYg8CO1zaVA9Voi0LQSJoPePDbPRzdkfRQ2zT+Ys9SPMWBa2UPdMdIlCUTNHJKm2Cng1aPSoe1y8mH2rkwWBmETSRW1YE2J4DlkVBVw5tUysgizRIKg/5obAi56VVygEr3l5Eh9C8olIfAMfXB75KiJJEOKWMH3aMT6Ic8yXE5qHUNUbJtZqd2P2EVsKUEkzB7THsP3ygTaN9izgr6PCTjJ8fR5HkoUZ6F1wsLsgzG7KRM8hFzhugTHhGxDIHozJUJxIwoJstGDNqfwclOfnCs5rTo+6OH0EYVsiGlq5UL1Oumd3uyYXxKDviV4xcm5KARp1UGa3NUKFE1Zlx04WxhnVhzso2hVbdzDYZF2GD27/SCWYTpi698pItvEDXoUlbvoOh7CmgsrP1sP6TX+cA04QFnrJlKaEyBwoNumF/KndeDwaHVH74lJrlIbWG0mr75aJnBI2bNkqdrNu1QZpICW0lphR40Bq5hU6EBiMWHnDoJm6E6O0V/L1xw4INg1FQYGBL8aLFoJS0T3YIWM/VFpSzVv1+tT8QW11wU=
  on:
    tags: true
    repo: weswigham/eve-online-sde
script:
- npm test
- if [[ $TRAVIS_EVENT_TYPE == "cron" ]]; then git init; git config user.name "Travis
  CI"; git config user.email "wwigham@gmail.com"; git remote add upstream "https://$GH_TOKEN@github.com/weswigham/eve-online-sde";
  git fetch upstream; git checkout master; fi
- if [[ $TRAVIS_EVENT_TYPE == "cron" ]]; then npm run update-sde || travis_terminate
  1; fi
- if [[ $TRAVIS_EVENT_TYPE == "cron" ]]; then if [[ ! "$(git status -s)" =~ ^$ ]];
  then git add sde; git add package.json; git commit -m 'Automatic SDE Update'; git
  push -u upstream master; git tag $(node ./scripts/print-version.js); git push upstream
  --tags; fi; fi
env:
  global:
    secure: LZpdkzvOGcFc+tEbO6KVQ2E8PBYE/XiOoMkjq0pRrO5+Si3CL85KWNOJIMqQ7hR7LuDsOg+wwIw5lz2WdEA9/IT0shPlInfUG2+KXOArhI3tAyRFW2kIJTLr9UbCvKWy3WiWznWuy0lOymMKURkgfoiBsN2NbvldqaRMy7sPvXmGxJyWG6vp3DXaxO+b0lVbmmOqyIS3vNcQ77BvPtConrw+o8k6q1YCtzn0KJdZ2nCT55XMkfuxaWfIScVvYfyFEsQdgKcVpY4mja67Tw81MaaoHUxUcaL/8ZStAy8+9utCUZXFMmV5bbxX0CCi6KIQxCCL/EUOj82qq+Q9QX2aQkZy39C5Da1WAHX7Lr5E7a2knbWbZKkJqPDlxvX8JQpzijnKz6Dbxk53T7aAsN6I7Shz70y5CEAXyjNuCX7SCif9vnXKxuC6b7NF8vIrxxvOkrLXDMMR4izMy2wwGgtJwhNliQALUkX+euWpyUSAqhPLLwQxVRZhq5DZACHtuUWrBN2Mt13TiNd5jBgYAbLKjQ85OQhUsUfLdh2fZnlcIh7UCJYR7V2KAtiCuVxO/zK7g9Zw5lV4gpso7wHTVhDQBnpWRLOcRWJnjmBwLFxED3fuTSAp5sXlnxz+VhnA8njbr3gyG5gpnjTt+3q+oq/dQIQx1CHmC9qFHJU5S8UtDUU=
